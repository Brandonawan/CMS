
{% extends 'blog/base.html' %}

{% block content %}
    <div class="container mt-5">
        <h1>Welcome to Your Dashboard, {{ request.user.username }}</h1>
        
        </table>
        
        <h2>Posts</h2>
        <table class="table table-striped">
            <thead>
              <tr>
                  <th>Title</th>
                  <th>Content</th>
                  <th>Published Date</th>
                  <th></th>
              </tr>
          </thead>
          <tbody>
              {% for post in posts %}
                  <tr>
                      <td>{{ post.title }}</td>
                      <td>{{ post.content|truncatechars:50|default:"" }}<a href="{% url 'post_detail' post.id %}">....Read More</a></td>
                      <td>{{ post.created_at }}</td>
                      <td>
                        <div class="dropdown">
                          <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Actions
                          </button>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="{% url 'edit_post' post.id %}">Edit</a>
                            <a class="dropdown-item" href="{% url 'delete_post' post.id %}">Delete</a>
                          </div>
                        </div>
                      </td>
                  </tr>
              {% empty %}
                  <tr>
                      <td colspan="3">No posts found.</td>
                  </tr>
              {% endfor %}
          </tbody>
        
        </table>
        <a href="{% url 'add_post' %}">Create a New Post</a>
    </div>
{% endblock %}


<a href="{% url 'edit_post' post.id %}">Edit</a>



